# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ö–µ—à—É

–¶–µ–π –¥–æ–¥–∞—Ç–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î in-memory –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –∑–Ω–∞—á–Ω–æ–≥–æ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ API Nova Poshta.

## –Ø–∫ –ø—Ä–∞—Ü—é—î

- **In-memory –∫–µ—à**: –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –≤ –ø–∞–º'—è—Ç—ñ –¥–æ–¥–∞—Ç–∫—É
- **TTL**: 1 –≥–æ–¥–∏–Ω–∞ (–¥–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è)
- **–ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å—ñ–≤**: 10,000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è**: –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É

## –ü–µ—Ä–µ–≤–∞–≥–∏ in-memory –∫–µ—à—É:

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- **–®–≤–∏–¥–∫—ñ—Å—Ç—å**: –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ø–∞–º'—è—Ç—ñ
- **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**: –±–µ–∑ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- **–ï–∫–æ–Ω–æ–º—ñ—á–Ω—ñ—Å—Ç—å**: –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

## –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### –ë–µ–∑ –∫–µ—à—É:
- –ó–∞–ø–∏—Ç–∏ –¥–æ API –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏: ~5000ms

### –ó –∫–µ—à–µ–º:
- –ü–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç: ~5000ms (–∑—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —É –∫–µ—à)
- –ü–æ–≤—Ç–æ—Ä–Ω—ñ –∑–∞–ø–∏—Ç–∏: **~350ms** (–∑ –∫–µ—à—É)
- **–ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è —É 15 —Ä–∞–∑—ñ–≤!** üöÄ

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ä–æ–±–æ—Ç–∏ –∫–µ—à—É:

```bash
./test-cache-performance.ps1
```

–û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:
- –ü–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç: 500-2000ms (API –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏)
- –ü–æ–≤—Ç–æ—Ä–Ω—ñ –∑–∞–ø–∏—Ç–∏: 200-500ms (in-memory cache)
- –ó–∞–ø–∏—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å –Ω–æ–≤—ñ cache keys

## API –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–µ—à–µ–º

### –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à
```
POST /api/v1/nova-poshta/clear-cache
```

### –ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–µ—à –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –º—ñ—Å—Ç
```
POST /api/v1/nova-poshta/preload-cache
```

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–ö–µ—à –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ `src/cache/cache.module.ts`:

```typescript
CacheModule.register({
  ttl: 3600 * 1000, // 1 –≥–æ–¥–∏–Ω–∞ –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö
  max: 10000,       // –º–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å—ñ–≤
  isGlobal: true,   // –≥–ª–æ–±–∞–ª—å–Ω–∏–π –¥–ª—è –≤—Å—å–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É
})
```

## –î–µ–ø–ª–æ–π

In-memory –∫–µ—à –≥–æ—Ç–æ–≤–∏–π –¥–æ production –¥–µ–ø–ª–æ—é –Ω–∞ –±—É–¥—å-—è–∫—ñ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ:
- Render.com ‚úÖ
- Heroku ‚úÖ 
- AWS ‚úÖ
- Railway ‚úÖ

–ù—ñ—è–∫–∏—Ö –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ! 